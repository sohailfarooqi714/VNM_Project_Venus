{
    "uid": "C5273A87K6552A403BS9CB1ED4B3B6E1604D",
    "isLoaded": true,
    "lastModificationTime": 0,
    "items": {
        "name": "Layout_LoadMenu",
        "type": "game_script",
        "order": 6,
        "parentId": "A588F305KAB2DA4236SB838E7FF9BBA890FD",
        "folder": false,
        "content": "ui.UiFactory.layouts.loadMenuLayout = {\n    \"type\": \"ui.FreeLayout\",\n    \"frame\": [0, 0, Graphics.width, Graphics.height],\n    \"preload\": { graphics: [name: $ -> $dataFields.database.system.menuBackground.name or 'bg-generic'] },\n    \"controls\": [\n        {\n            \"type\": \"ui.Image\",\n            \"image\": -> $dataFields.database.system.menuBackground.name or 'bg-generic'\n            \"frame\": [0, 0, Graphics.width, Graphics.height],\n            \"action\": { \"event\": \"onCancel\", \"name\": \"previousLayout\", \"params\": {}}\n        },\n        {\n            \"type\": \"ui.BackButton\",\n            \"frame\": [Graphics.width - 170, Graphics.height - 65, 150, 45]\n        },\n        {\n            \"type\": \"ui.TitledWindow\",\n            \"frame\": [20, 0, Math.floor((Graphics.width-200)/420)*420, Graphics.height],\n            \"params\": { \"title\": { \"lcId\": \"B215F6EB2576884547399CC0CF2F38E855FD\", \"defaultText\": \"Load Game\" } }\n        },\n        {\n            \"type\": \"ui.DataScrollView\",\n            \"id\": \"list\",\n            \"frame\": [20, 45, Math.floor((Graphics.width-200)/420)*420, Graphics.height - 45],\n            \"params\": { \n                \"columns\": Math.floor((Graphics.width-200)/420),\n                \"spacing\": [10, 10],\n                \"dataSource\": ($ -> $dataFields.saveGameSlots), \n                \"template\": {\n                    \"descriptor\": {\n                        \"type\": \"ui.SaveGameSlot\",\n                        \"params\": {\n                            \"actions\": [\n                                { \n                                    \"name\": \"executeFormulas\", \n                                    \"params\": [\n                                        $ -> $tempFields.slot = o.parent.index\n                                    ] \n                                },\n                                { \n                                    \"name\": \"createControl\", \n                                    \"conditions\": [\n                                        { \"field\": ($ -> $dataFields.saveGameSlots[$tempFields.slot]?.date), \"notEqualTo\": ($ -> '') },\n                                        { \"field\": ($ -> $dataFields.settings.confirmation), \"equalTo\": true },\n                                        { \"field\": ($ -> $dataFields.tempSettings.loadMenuAccess), \"equalTo\": true }\n                                    ]\n                                    \"params\": { \n                                        \"descriptor\": { \n                                            \"id\": \"confirmationDialog\",\n                                            \"type\": \"ui.ConfirmationDialog\",\n                                            \"zIndex\": 90000,\n                                            \"params\": { \n                                                \"message\": { \"lcId\": \"2BD08CC65B9A2248C749B9C4DEEAADE8E20A\", \"defaultText\": \"Do you really want to load?\" },\n                                                \"acceptActions\": [{ \"name\": \"loadGame\", \"params\": { \"slot\": ($ -> $tempFields.slot) } }], \n                                                \"rejectActions\": [{\"name\":\"disposeControl\",\"params\":($ -> 'confirmationDialog')}]}\n                                        } \n                                    } \n                                },\n                                { \"conditions\": [\n                                    { \"field\": ($ -> $dataFields.saveGameSlots[$tempFields.slot]?.date), \"notEqualTo\": ($ -> '') },\n                                    { \"field\": ($ -> !$dataFields.settings.confirmation or !$dataFields.tempSettings.loadMenuAccess), \"equalTo\": true }\n                                ], \"name\": \"loadGame\", \"params\": { \"slot\": ($ -> $tempFields.slot) } }\n                            ]\n                        }\n                    }\n                }\n            }\n        }\n    ]\n}",
        "compiledContent": "// Generated by CoffeeScript 1.12.7\n(function() {\n  ui.UiFactory.layouts.loadMenuLayout = {\n    \"type\": \"ui.FreeLayout\",\n    \"frame\": [0, 0, Graphics.width, Graphics.height],\n    \"preload\": {\n      graphics: [\n        {\n          name: $(function() {\n            return $dataFields.database.system.menuBackground.name || 'bg-generic';\n          })\n        }\n      ]\n    },\n    \"controls\": [\n      {\n        \"type\": \"ui.Image\",\n        \"image\": function() {\n          return $dataFields.database.system.menuBackground.name || 'bg-generic';\n        },\n        \"frame\": [0, 0, Graphics.width, Graphics.height],\n        \"action\": {\n          \"event\": \"onCancel\",\n          \"name\": \"previousLayout\",\n          \"params\": {}\n        }\n      }, {\n        \"type\": \"ui.BackButton\",\n        \"frame\": [Graphics.width - 170, Graphics.height - 65, 150, 45]\n      }, {\n        \"type\": \"ui.TitledWindow\",\n        \"frame\": [20, 0, Math.floor((Graphics.width - 200) / 420) * 420, Graphics.height],\n        \"params\": {\n          \"title\": {\n            \"lcId\": \"B215F6EB2576884547399CC0CF2F38E855FD\",\n            \"defaultText\": \"Load Game\"\n          }\n        }\n      }, {\n        \"type\": \"ui.DataScrollView\",\n        \"id\": \"list\",\n        \"frame\": [20, 45, Math.floor((Graphics.width - 200) / 420) * 420, Graphics.height - 45],\n        \"params\": {\n          \"columns\": Math.floor((Graphics.width - 200) / 420),\n          \"spacing\": [10, 10],\n          \"dataSource\": $(function() {\n            return $dataFields.saveGameSlots;\n          }),\n          \"template\": {\n            \"descriptor\": {\n              \"type\": \"ui.SaveGameSlot\",\n              \"params\": {\n                \"actions\": [\n                  {\n                    \"name\": \"executeFormulas\",\n                    \"params\": [\n                      $(function() {\n                        return $tempFields.slot = o.parent.index;\n                      })\n                    ]\n                  }, {\n                    \"name\": \"createControl\",\n                    \"conditions\": [\n                      {\n                        \"field\": $(function() {\n                          var ref;\n                          return (ref = $dataFields.saveGameSlots[$tempFields.slot]) != null ? ref.date : void 0;\n                        }),\n                        \"notEqualTo\": $(function() {\n                          return '';\n                        })\n                      }, {\n                        \"field\": $(function() {\n                          return $dataFields.settings.confirmation;\n                        }),\n                        \"equalTo\": true\n                      }, {\n                        \"field\": $(function() {\n                          return $dataFields.tempSettings.loadMenuAccess;\n                        }),\n                        \"equalTo\": true\n                      }\n                    ],\n                    \"params\": {\n                      \"descriptor\": {\n                        \"id\": \"confirmationDialog\",\n                        \"type\": \"ui.ConfirmationDialog\",\n                        \"zIndex\": 90000,\n                        \"params\": {\n                          \"message\": {\n                            \"lcId\": \"2BD08CC65B9A2248C749B9C4DEEAADE8E20A\",\n                            \"defaultText\": \"Do you really want to load?\"\n                          },\n                          \"acceptActions\": [\n                            {\n                              \"name\": \"loadGame\",\n                              \"params\": {\n                                \"slot\": $(function() {\n                                  return $tempFields.slot;\n                                })\n                              }\n                            }\n                          ],\n                          \"rejectActions\": [\n                            {\n                              \"name\": \"disposeControl\",\n                              \"params\": $(function() {\n                                return 'confirmationDialog';\n                              })\n                            }\n                          ]\n                        }\n                      }\n                    }\n                  }, {\n                    \"conditions\": [\n                      {\n                        \"field\": $(function() {\n                          var ref;\n                          return (ref = $dataFields.saveGameSlots[$tempFields.slot]) != null ? ref.date : void 0;\n                        }),\n                        \"notEqualTo\": $(function() {\n                          return '';\n                        })\n                      }, {\n                        \"field\": $(function() {\n                          return !$dataFields.settings.confirmation || !$dataFields.tempSettings.loadMenuAccess;\n                        }),\n                        \"equalTo\": true\n                      }\n                    ],\n                    \"name\": \"loadGame\",\n                    \"params\": {\n                      \"slot\": $(function() {\n                        return $tempFields.slot;\n                      })\n                    }\n                  }\n                ]\n              }\n            }\n          }\n        }\n      }\n    ]\n  };\n\n}).call(this);\n"
    },
    "summary": [
        "name",
        "type",
        "order"
    ],
    "externalItems": []
}