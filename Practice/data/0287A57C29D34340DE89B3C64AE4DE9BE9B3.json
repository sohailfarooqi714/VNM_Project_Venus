{
    "uid": "0287A57C29D34340DE89B3C64AE4DE9BE9B3",
    "isLoaded": true,
    "lastModificationTime": 0,
    "items": {
        "name": "Template_MessageBacklog",
        "type": "game_script",
        "order": 23,
        "folder": false,
        "parentId": "2A0E8A67K5BAAA4D7AS9017ED220E9EFFCA7",
        "content": "ui.UiFactory.customTypes[\"ui.MessageBacklog\"] = {\n    \"id\": \"backlogScrollView\",\n    \"type\": \"ui.DataScrollView\",\n    \"zIndex\": 80000,\n    \"order\": 80001,\n    \"frame\": [0, 0, Graphics.width, Graphics.height],\n    \"params\": {\n        \"dataSource\": ($ -> $dataFields.backlog),\n        \"template\": {\n            \"size\": [Graphics.width, 200],\n            \"descriptor\": {\n                \"type\": \"ui.FreeLayout\",\n                \"frame\": [0, 0, Graphics.width, 200],\n                \"controls\": [\n                    {\n                        \"type\": \"ui.FreeLayout\",\n                        \"frame\": [0, 20, Graphics.width / 4, 30],\n                        \"controls\": [\n                            {\n                                \"type\": \"ui.Text\",\n                                \"styles\": [\"backlogNameText\"],\n                                \"frame\": [0, 0],\n                                \"margin\": [0, 0, 20, 0],\n                                \"sizeToFit\": true,\n                                \"alignmentX\": \"right\",\n                                \"zIndex\": 82000,\n                                \"formulas\": [$ ->\n                                    c = $dataFields.backlog[o.parent.parent.index].character\n                                    o.text = c?.name ? \"\"\n                                    o.font.color.setFromObject(c.textColor) if c?.textColor\n                                ],\n                                \"text\": \"Name\"\n                            }\n                        ]\n                    },\n                    {\n                        \"type\": \"ui.Text\",\n                        \"styles\": [\"messageText\"],\n                        \"frame\": [Graphics.width / 4 + 20, 20, Graphics.width * 0.7, 0],\n                        \"sizeToFit\": { \"horizontal\": false, \"vertical\": true },\n                        \"formatting\": true,\n                        \"wordWrap\": true,\n                        \"zIndex\": 82000,\n                        \"order\": 80001,\n                        \"formulas\": [\n                            $ -> o.visible = !$dataFields.backlog[o.parent.index].isChoice\n                            $ -> if !$dataFields.backlog[o.parent.index].isChoice then o.text = $dataFields.backlog[o.parent.index].message\n                            $ -> if $dataFields.backlog[o.parent.index].isChoice then o.text = $dataFields.backlog[o.parent.index].choice.text\n                        ],\n                        \"text\": \"\"\n                    },\n                    {\n                        \"type\": \"ui.FreeLayout\",\n                        \"alignmentX\": 1,\n                        \"sizeToFit\": true,\n                        \"formulas\": [\n                            $ -> o.visible = $dataFields.backlog[o.parent.index].isChoice\n                        ],\n                        \"controls\":[\n                            {\n                                \"type\": \"ui.Window\",\n                                \"formulas\": [\n                                    $ -> o.controls[0].image = \"selection\"\n                                ],\n                                \"frame\": [0, 0, 750, 50],\n                                \"margin\": [0, 0, 0, 30],\n                                \"zIndex\": 4999\n                            },\n                            {\n                                \"type\": \"ui.Text\",\n                                \"sizeToFit\": true,\n                                \"styles\": [\"regularUIText\"],\n                                \"alignmentX\": \"center\",\n                                \"alignmentY\": \"center\",\n                                \"frame\": [0, 12],\n                                \"margin\": [0, 0, 0, 30]\n                                \"formulas\": [\n                                    $ -> if $dataFields.backlog[o.parent.parent.index].isChoice then o.text = $dataFields.backlog[o.parent.parent.index].choice.text\n                                ],\n                                \"zIndex\": 5100\n                            }\n                        ]\n                    }\n                ],\n                \"margin\": [0, 0, 0, 20]\n            }\n        }\n    },\n    \"zIndex\": 81000\n}\n\nui.UiFactory.customTypes[\"ui.MessageBacklogBox\"] = {\n    \"type\": \"ui.FreeLayout\",\n    \"order\": 80000,\n    \"id\": \"backlog\",\n    \"formulas\": [$(->\n        $backlogScrollView.controls[1].behavior.scrollToEnd()\n    , null, \"uiPrepareFinish\")],\n    \"controls\": [\n        {\n            \"type\": \"ui.Panel\",\n            \"animations2\": [\n                {\n                    \"event\": \"onInitialize\",\n                    \"flow\": [\n                        { \"type\": \"appear\", \"animation\": { \"type\": 1 }, \"duration\": 30, \"wait\": true }\n                    ]\n                },\n                {\n                    \"event\": \"onTerminate\",\n                    \"flow\": [\n                        { \"type\": \"disappear\", \"animation\": { \"type\": 1 }, \"duration\": 30, \"wait\": true }\n                    ]\n                }\n            ],\n            \"modal\": true,\n            \"order\": 800,\n            \"style\": \"backlogMessagePanel\",\n            \"zIndex\": 80000,\n            \"frame\": [0, 0, Graphics.width, Graphics.height]\n        },\n        {\n            \"type\": \"ui.Panel\",\n            \"animations2\": [\n                {\n                    \"event\": \"onInitialize\",\n                    \"flow\": [\n                        { \"type\": \"appear\", \"animation\": { \"type\": 1 }, \"duration\": 30, \"wait\": true }\n                    ]\n                },\n                {\n                    \"event\": \"onTerminate\",\n                    \"flow\": [\n                        { \"type\": \"disappear\", \"animation\": { \"type\": 1 }, \"duration\": 30, \"wait\": true }\n                    ]\n                }\n            ],\n            \"style\": \"backlogNamePanel\",\n            \"zIndex\": 80000,\n            \"frame\": [0, 0, Graphics.width / 4, Graphics.height]\n        },\n        {\n            \"type\": \"ui.MessageBacklog\"\n        }\n\n    ],\n    \"frame\": [0, 0, Graphics.width, Graphics.height]\n}",
        "compiledContent": "// Generated by CoffeeScript 1.12.7\n(function() {\n  ui.UiFactory.customTypes[\"ui.MessageBacklog\"] = {\n    \"id\": \"backlogScrollView\",\n    \"type\": \"ui.DataScrollView\",\n    \"zIndex\": 80000,\n    \"order\": 80001,\n    \"frame\": [0, 0, Graphics.width, Graphics.height],\n    \"params\": {\n      \"dataSource\": $(function() {\n        return $dataFields.backlog;\n      }),\n      \"template\": {\n        \"size\": [Graphics.width, 200],\n        \"descriptor\": {\n          \"type\": \"ui.FreeLayout\",\n          \"frame\": [0, 0, Graphics.width, 200],\n          \"controls\": [\n            {\n              \"type\": \"ui.FreeLayout\",\n              \"frame\": [0, 20, Graphics.width / 4, 30],\n              \"controls\": [\n                {\n                  \"type\": \"ui.Text\",\n                  \"styles\": [\"backlogNameText\"],\n                  \"frame\": [0, 0],\n                  \"margin\": [0, 0, 20, 0],\n                  \"sizeToFit\": true,\n                  \"alignmentX\": \"right\",\n                  \"zIndex\": 82000,\n                  \"formulas\": [\n                    $(function() {\n                      var c, ref;\n                      c = $dataFields.backlog[o.parent.parent.index].character;\n                      o.text = (ref = c != null ? c.name : void 0) != null ? ref : \"\";\n                      if (c != null ? c.textColor : void 0) {\n                        return o.font.color.setFromObject(c.textColor);\n                      }\n                    })\n                  ],\n                  \"text\": \"Name\"\n                }\n              ]\n            }, {\n              \"type\": \"ui.Text\",\n              \"styles\": [\"messageText\"],\n              \"frame\": [Graphics.width / 4 + 20, 20, Graphics.width * 0.7, 0],\n              \"sizeToFit\": {\n                \"horizontal\": false,\n                \"vertical\": true\n              },\n              \"formatting\": true,\n              \"wordWrap\": true,\n              \"zIndex\": 82000,\n              \"order\": 80001,\n              \"formulas\": [\n                $(function() {\n                  return o.visible = !$dataFields.backlog[o.parent.index].isChoice;\n                }), $(function() {\n                  if (!$dataFields.backlog[o.parent.index].isChoice) {\n                    return o.text = $dataFields.backlog[o.parent.index].message;\n                  }\n                }), $(function() {\n                  if ($dataFields.backlog[o.parent.index].isChoice) {\n                    return o.text = $dataFields.backlog[o.parent.index].choice.text;\n                  }\n                })\n              ],\n              \"text\": \"\"\n            }, {\n              \"type\": \"ui.FreeLayout\",\n              \"alignmentX\": 1,\n              \"sizeToFit\": true,\n              \"formulas\": [\n                $(function() {\n                  return o.visible = $dataFields.backlog[o.parent.index].isChoice;\n                })\n              ],\n              \"controls\": [\n                {\n                  \"type\": \"ui.Window\",\n                  \"formulas\": [\n                    $(function() {\n                      return o.controls[0].image = \"selection\";\n                    })\n                  ],\n                  \"frame\": [0, 0, 750, 50],\n                  \"margin\": [0, 0, 0, 30],\n                  \"zIndex\": 4999\n                }, {\n                  \"type\": \"ui.Text\",\n                  \"sizeToFit\": true,\n                  \"styles\": [\"regularUIText\"],\n                  \"alignmentX\": \"center\",\n                  \"alignmentY\": \"center\",\n                  \"frame\": [0, 12],\n                  \"margin\": [0, 0, 0, 30],\n                  \"formulas\": [\n                    $(function() {\n                      if ($dataFields.backlog[o.parent.parent.index].isChoice) {\n                        return o.text = $dataFields.backlog[o.parent.parent.index].choice.text;\n                      }\n                    })\n                  ],\n                  \"zIndex\": 5100\n                }\n              ]\n            }\n          ],\n          \"margin\": [0, 0, 0, 20]\n        }\n      }\n    },\n    \"zIndex\": 81000\n  };\n\n  ui.UiFactory.customTypes[\"ui.MessageBacklogBox\"] = {\n    \"type\": \"ui.FreeLayout\",\n    \"order\": 80000,\n    \"id\": \"backlog\",\n    \"formulas\": [\n      $(function() {\n        return $backlogScrollView.controls[1].behavior.scrollToEnd();\n      }, null, \"uiPrepareFinish\")\n    ],\n    \"controls\": [\n      {\n        \"type\": \"ui.Panel\",\n        \"animations2\": [\n          {\n            \"event\": \"onInitialize\",\n            \"flow\": [\n              {\n                \"type\": \"appear\",\n                \"animation\": {\n                  \"type\": 1\n                },\n                \"duration\": 30,\n                \"wait\": true\n              }\n            ]\n          }, {\n            \"event\": \"onTerminate\",\n            \"flow\": [\n              {\n                \"type\": \"disappear\",\n                \"animation\": {\n                  \"type\": 1\n                },\n                \"duration\": 30,\n                \"wait\": true\n              }\n            ]\n          }\n        ],\n        \"modal\": true,\n        \"order\": 800,\n        \"style\": \"backlogMessagePanel\",\n        \"zIndex\": 80000,\n        \"frame\": [0, 0, Graphics.width, Graphics.height]\n      }, {\n        \"type\": \"ui.Panel\",\n        \"animations2\": [\n          {\n            \"event\": \"onInitialize\",\n            \"flow\": [\n              {\n                \"type\": \"appear\",\n                \"animation\": {\n                  \"type\": 1\n                },\n                \"duration\": 30,\n                \"wait\": true\n              }\n            ]\n          }, {\n            \"event\": \"onTerminate\",\n            \"flow\": [\n              {\n                \"type\": \"disappear\",\n                \"animation\": {\n                  \"type\": 1\n                },\n                \"duration\": 30,\n                \"wait\": true\n              }\n            ]\n          }\n        ],\n        \"style\": \"backlogNamePanel\",\n        \"zIndex\": 80000,\n        \"frame\": [0, 0, Graphics.width / 4, Graphics.height]\n      }, {\n        \"type\": \"ui.MessageBacklog\"\n      }\n    ],\n    \"frame\": [0, 0, Graphics.width, Graphics.height]\n  };\n\n}).call(this);\n"
    },
    "summary": [
        "name",
        "type"
    ],
    "externalItems": []
}